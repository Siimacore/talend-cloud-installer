---
syncope::postgres_host: "%{::tic_db_host}"
syncope::postgres_db_name: 'syncope'
syncope::postgres_password: "%{::master_password}"
syncope::admin_password: "%{::master_password}"

profile::db::postgresql::pg_role_user: syncope
profile::db::postgresql::pg_role_db_name: syncope
profile::db::postgresql::pg_role_user_password: "%{::master_password}"

postgresql::server::service_ensure: stopped
postgresql::server::service_enable: false
postgresql::server::service_manage: true

postgresql::globals::default_connect_settings:
      PGHOST: "%{::tic_db_host}"
      PGUSER: 'tadmin'
      PGDATABASE: 'tadmin'
      PGPASSWORD: "%{::master_password}"

pg_databases:
  'syncope':
    dbname: 'syncope'
    owner: 'tadmin'

pg_roles:
  'syncope':
    login: true
    password_hash: "%{::master_password}"

