---
java::distribution: "jre"
java::package: "jre1.8.0_60"
java::version: "1.8.0_60-fcs"
java::java_home: "/usr/java/jre1.8.0_60"

activemq::version: 'installed'
activemq::network_password: "%{::master_password}"
activemq::network_user: 'activemq'
activemq::brokers: '%{::activemq_nodes}'
activemq::java_home: '/usr/java/default'
activemq::zk_password: "%{::master_password}"
activemq::zookeeper_nodes: '%{::zookeeper_nodes}'
activemq::pg_host: "%{::postgres_nodes}"
activemq::pg_db: 'ams'
activemq::pg_username: 'activemq'
activemq::pg_password: "%{::master_password}"
activemq::activemq_auth_ensure: 'installed'
activemq::persistence: 'kahadb'

profile::postgresql::hostname: "%{::postgres_nodes}"
profile::postgresql::password: "%{::master_password}"
profile::postgresql::roles:
  ams:
    files:
      - /var/lib/activemq/lib/ams.sql
      - /var/lib/activemq/lib/amqsec.sql
  scheduler:
    files:
      - /var/tmp/sql/scheduler.sql
  lts:
    files:
      - /var/tmp/sql/lts.sql
  crypto:
    files:
      - /var/tmp/sql/crypto.sql
  cms:
    files:
      - /var/tmp/sql/cms.sql
  config:
    files:
      - /var/tmp/sql/config.sql
  trial:
    files:
      - /var/tmp/sql/trial.sql
  pe:
    files:
      - /var/tmp/sql/pe.sql
  webhooks:
    files:
      - /var/tmp/sql/webhooks.sql
  notification_subscription:
    files:
      - /var/tmp/sql/notification_subscription.sql

cloudwatchlog_files:
  "/talend/tic/%{::main_stack}/%{::puppet_role}/opt/activemq/data/activemq.log":
    path: '/opt/activemq/data/activemq.log'

